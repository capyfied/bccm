{"version":3,"file":"js/app.28d16b31.js","mappings":"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","sources":["webpack://bccm/./src/App.vue","webpack://bccm/./src/util/util.js","webpack://bccm/./src/stores/alert.js","webpack://bccm/./src/util/validations.js","webpack://bccm/./src/models/craft.js","webpack://bccm/./src/util/bcEncoder.js","webpack://bccm/./src/models/folder.js","webpack://bccm/./src/models/settings.js","webpack://bccm/./src/models/database.js","webpack://bccm/./src/stores/explorer.js","webpack://bccm/./src/stores/stores.js","webpack://bccm/./src/components/Explorer.vue","webpack://bccm/./src/components/CraftDetails.vue","webpack://bccm/./src/components/CraftDetails.vue?98b4","webpack://bccm/./src/components/FolderDetails.vue","webpack://bccm/./src/components/FolderDetails.vue?39ab","webpack://bccm/./src/components/Folder.vue","webpack://bccm/./src/components/Folder.vue?3e62","webpack://bccm/./src/components/Explorer.vue?82e0","webpack://bccm/./src/components/About.vue","webpack://bccm/./src/components/About.vue?5f92","webpack://bccm/./src/components/Settings.vue","webpack://bccm/./src/components/Settings.vue?b3ff","webpack://bccm/./src/components/Alert.vue","webpack://bccm/./src/components/Alert.vue?7d05","webpack://bccm/./src/App.vue?7ccd","webpack://bccm/./src/main.js","webpack://bccm/./src/assets/img/ sync ^\\.\\/.*\\.svg$","webpack://bccm/webpack/bootstrap","webpack://bccm/webpack/runtime/chunk loaded","webpack://bccm/webpack/runtime/compat get default export","webpack://bccm/webpack/runtime/define property getters","webpack://bccm/webpack/runtime/global","webpack://bccm/webpack/runtime/hasOwnProperty shorthand","webpack://bccm/webpack/runtime/publicPath","webpack://bccm/webpack/runtime/jsonp chunk loading","webpack://bccm/webpack/startup"],"sourcesContent":["<template>\n  <header class=\"d-flex justify-content-between\">\n    <div class=\"d-flex\">\n      <span id=\"main-link\" class=\"menu-link\" @click=\"page = 'home'\">\n        <img src=\"@/assets/img/craft.svg\" id=\"logo\" alt=\"\"/>\n        <span id=\"name\">BC Crafts Manager</span>\n      </span>\n      <span class=\"menu-link\" @click=\"page = 'settings'\"><img src=\"@/assets/img/cog.svg\" class=\"mr-1\" alt=\"\"/> Settings</span>\n      <span class=\"menu-link\" @click=\"page = 'about'\"><img src=\"@/assets/img/about.svg\" class=\"mr-1\" alt=\"\"/> Help</span>\n    </div>\n    <input type=\"text\" v-if=\"page == 'home'\" v-model=\"queryField\" id=\"query\" class=\"mx-3\" @input=\"updateQuery()\" placeholder=\"Filter items...\"/>\n    <span>\n      <button class=\"btn btn-success\" @click=\"loadFromClipboard()\" style=\"height: 28px; margin-top: 3px;\">\n        <img src=\"@/assets/img/clip-read.svg\" alt=\"\"/> Load from clipboard\n      </button>\n      <a href=\"https://github.com/capyfied/bccm\" title=\"GitHub\" target=\"_blank\">\n        <img src=\"@/assets/img/github.svg\" id=\"github\" class=\"mx-2\" alt=\"\"/>\n      </a>\n    </span>\n  </header>\n  <main class=\"container-fluid\">\n    <Alert/>\n    <Explorer v-if=\"page == 'home'\"/>\n    <About v-if=\"page == 'about'\"/>\n    <Settings v-if=\"page == 'settings'\" @go-to=\"goTo\"/>\n  </main>\n</template>\n\n<script>\nimport { readClipboard, debounce, pluralize } from \"@/util/util.js\";\nimport stores from \"@/stores/stores.js\";\nimport Explorer from './components/Explorer.vue';\nimport About from './components/About.vue';\nimport Settings from './components/Settings.vue';\nimport Alert from './components/Alert.vue';\nimport \"@/assets/css/application.scss\";\n\nexport default {\n  name: 'App',\n  components: { Alert, Explorer, Settings, About },\n  data: () => { return {\n    page: \"home\", // [String] The page the user is currently viewing (because installing Vue Router for three little pages seems overkill).\n    queryField: \"\" // [String] The contents of the query field, which is debounced and lowercased into explorerStore.query.\n  }},\n  computed: {\n    ...stores\n  },\n  methods: {\n    // Navigate to a different page.\n    goTo(page) {\n      this.page = page;\n    },\n    // Load data from user's cliboard.\n    loadFromClipboard() {\n      readClipboard().then(text => {\n        if (text) {\n          try {\n            const stats = this.database.importCrafts(text);\n            console.log(`Imported ${stats.new + stats.edited}/${stats.total} crafts (${stats.new} new, ${stats.edited} edited, ${stats.failed} failed)`);\n            if (stats.failed > 0) {\n              if (stats.total == 1) {\n                this.alertStore.alert(`Could not load the craft, see console for details.`);\n              } else {\n                this.alertStore.alert(`Could not load ${stats.failed} out of ${stats.total} ${pluralize('craft', stats.total)}, see console for details.`);\n              }\n            } else {\n              if (stats.edited == 0) {\n                this.alertStore.alert(`Added ${stats.new} new ${pluralize('craft', stats.new)}.`, \"success\");\n              } else {\n                this.alertStore.alert((stats.new == 0 ?\n                  `Updated ${stats.edited} ${pluralize('craft', stats.edited)}.` :\n                  `Added ${stats.new} new ${pluralize('craft', stats.new)}, and updated ${stats.edited}.`),\n                  \"success\"\n                )\n              }\n            }\n          } catch(e) {\n            this.alertStore.alert(\"Couldn't parse clipboard data, see console for details.\");\n            console.error(e);\n          }\n        } else {\n          this.alertStore.alert(\"Clipboard is empty.\");\n        }\n      });\n    },\n    // Whenever the query changes, update the store.\n    updateQuery() {\n      this.explorerStore.query = this.queryField.toLowerCase();\n    }\n  },\n  created() {\n    this.updateQuery = debounce(this.updateQuery, 200);\n  }\n}\n</script>\n","// File for miscellaneous helper methods that don't belong anywhere else.\n\n// Generate a random UUID\nexport function generateUuid(){\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n    (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n  );\n}\n// Read the user's clipboard as text, or fall back to a text prompt if this is unsupported (Firefox).\nexport function readClipboard() {\n  return new Promise((resolve) => {\n    if (navigator.clipboard.readText) {\n      navigator.clipboard.readText().then(text => resolve(text));\n    } else {\n      resolve(prompt(\"Paste your text below:\"));\n    }\n  });\n}\n// Prompt the user to download the provided text as a text file.\nexport function downloadAsTextFile(text, filename = 'download') {\n  const blob = new Blob([text], {type: 'text/plain'});\n  const elem = window.document.createElement('a');\n  elem.href = window.URL.createObjectURL(blob);\n  elem.download = filename;\n  document.body.appendChild(elem);\n  elem.click();\n  document.body.removeChild(elem);\n}\n// Get the contents of a text file as a string.\nexport function readFile(file) {\n  return new Promise(function(resolve) {\n    const fr = new FileReader();\n    fr.onload = () => {\n      resolve(fr.result.split(\"\\n\"));\n    }\n    fr.readAsText(file);\n  });\n}\n// Convert a two-dimensional array of values into a CSV string.\nexport function matrixToCsv(matrix){\n  return matrix.map(row => row\n    .map(String) // Convert every value to string\n    .map(v => v.replaceAll('\"', '\"\"')) // Escape double quotes\n    .map(v => `\"${v}\"`)  // Surround each value with quotes\n    .join(',') // Separate values with commas\n  ).join('\\r\\n'); // Add a newline between rows\n}\n// Swap two elements in an array, given their index.\nexport function swap(array, idx1, idx2) {\n  if (idx1 == idx2) return;\n  const tmp = array[idx1];\n  array[idx1] = array[idx2];\n  array[idx2] = tmp;\n}\n// Limit how often a function is triggered.\nexport function debounce(func, timeout = 300){\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => { func.apply(this, args); }, timeout);\n  };\n}\n// Return the singular or plural version of a word based on the given count.\nexport function pluralize(word, count, pluralWord = null) {\n  return count == 1 ? word : (pluralWord || word + \"s\");\n}\n// Given an array of objects that have a string field called {attribute}, make it so that it is unique for\n// all objects, appending increasing numbers at the end of it to discriminate between repeats.\nexport function renameObjectsToMakeThemUnique(array, attribute = \"name\") {\n  for (let i in array) {\n    const item = array[i];\n    let newName = item[attribute];\n    while(![-1, parseInt(i)].includes(array.findIndex(e => e[attribute] == newName))) {\n      const parts = newName.match(/^(.*) \\((\\d+)\\)$/);\n      if (!parts) {\n        newName = `${newName} (2)`; // If two items are named \"Foo\", rename the second to \"Foo (2)\"\n      } else {\n        newName = `${parts[1]} (${parseInt(parts[2]) + 1})`; // If there's already a \"Foo ({x})\", rename it to \"Foo ({x+1})\"\n      }\n    }\n    item[attribute] = newName;\n  }\n}\n","import { defineStore } from 'pinia';\n\n// This store can be used by any component that needs to display an alert to the user.\nexport const useAlertStore = defineStore('alert', {\n  state: () => ({\n    message: null, // [String] The message to display to the user.\n    type: null, // [String] The type of alert (success|error).\n    dismissalTimeout: null // [Number] The setTimeout() ID that will clear the message after a while.\n  }),\n  actions: {\n    // Display an alert message, which can be of type \"success\" or \"error\" (default), and will be visible for [duration] ms.\n    // If the message is null, hide the alert. The store just sets the variables. The <Alert> Vue component will react to\n    // them to actually display the message to the user.\n    alert(message, type = \"error\") {\n      if (!message) {\n        this.message = null;\n        this.type = null;\n      } else {\n        let duration;\n        if (type == 'error') {\n          duration = 10000;\n          console.error(message); // To aid debugging, in case the message disappears too fast.\n        } else {\n          duration = 5000;\n        }\n        clearTimeout(this.dismissalTimeout); // Cancel the clearing of a previous message, if present.\n        this.message = message;\n        this.type = type;\n        this.dismissalTimeout = setTimeout(() => { this.alert(null) }, duration);\n      }\n    }\n  }\n});\n","// Helper methods to perform validations.\n\n// Assert that a condition is true by raising an exception if not\nexport function assert(condition, message) {\n  if (!condition) {\n    throw new ValidationError(message);\n  }\n}\n// Assert that a property of a hash has a certain type, and (unless required = false) that it's present\nexport function assertType(hash, key, type, required = true) {\n  if (hash[key] == undefined || hash[key] == null) {\n    if (!required) return;\n    console.log(hash);\n    throw new ValidationError(`Attribute is missing: \"${key}\".`);\n  }\n  if (typeof(hash[key]) != type) {\n    console.log(hash);\n    throw new ValidationError(`Error on attribute \"${key}\": expected ${type} but got ${typeof(hash[key])}`);\n  }\n}\n\nclass ValidationError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"InvalidCraftError\";\n  }\n}\n","import BCEncoder from \"@/util/bcEncoder.js\";\nimport { swap } from \"@/util/util.js\";\nimport { assert, assertType } from \"@/util/validations.js\"\n\n// This class is our internal representation for a crafted item.\nexport default class Craft {\n  static NAME_MAX_LENGTH = 30; // Character limit of the name field.\n  static DESCR_MAX_LENGTH = 100; // Character limit of the description field.\n  uuid = null; // [String] Internal identifier for this craft.\n  parent = null; // [Folder] The Folder this craft belongs to.\n  item = null; // [String] The codename of the item this craft is based on.\n  property = null; // [String] Which special property the craft has, if any.\n  lock = null; // [String] Which lock the craft uses, if any.\n  name = null; // [String] The user-supplied name for the craft.\n  description = null; // [String] The user-supplied description for the craft.\n  color = null; // [String] A comma-separated list of hex values corresponding to the craft's colors.\n  private = null; // [Boolean] Whether the craft can be used by other players.\n  type = null; // [String] An item-specific identifier for the default variant/position of the item to be used.\n\n  // Convert a JSON into an Craft (this is the format we use for localStorage).\n  static fromJson(json, parent) {\n    if (!json || !parent) throw \"Missing argument\";\n    const craft = new Craft();\n    craft.uuid = json.uuid;\n    craft.item = json.item;\n    craft.parent = parent;\n    craft.property = json.property;\n    craft.lock = json.lock;\n    craft.name = json.name;\n    craft.description = json.description;\n    craft.color = json.color;\n    craft.private = json.private == true;\n    craft.type = json.type;\n    craft.priority = json.priority;\n    return craft;\n  }\n  // Convert this Craft into a JSON (this is the format we use for localStorage).\n  toJson() {\n    return {\n      uuid: this.uuid,\n      item: this.item,\n      property: this.property,\n      lock: this.lock,\n      name: this.name,\n      description: this.description,\n      color: this.color,\n      private: this.private,\n      type: this.type,\n      priority: this.priority\n    }\n  }\n  // Ensure all the data in this Craft is valid, throwing an error if it isn't\n  validate() {\n    assertType(this, 'uuid', 'string');\n    assertType(this, 'item', 'string');\n    assertType(this, 'property', 'string', false);\n    assertType(this, 'lock', 'string', false);\n    assertType(this, 'name', 'string');\n    assertType(this, 'description', 'string', false);\n    assertType(this, 'color', 'string', false);\n    assertType(this, 'private', 'boolean');\n    assertType(this, 'type', 'string', false);\n    assertType(this, 'priority', 'number', false);\n    assert(this.name.length > 0 && this.name.length <= Craft.NAME_MAX_LENGTH, `Name must be between 1 and ${Craft.NAME_MAX_LENGTH} characters`);\n    assert(this.name.length <= Craft.DESCR_MAX_LENGTH, `Description must be between 1 and ${Craft.DESCR_MAX_LENGTH} characters`);\n  }\n  // Move this craft up or down among its siblings. For moving to a different folder, see Database.moveCraft().\n  move(direction) {\n    const idx = this.parent.crafts.indexOf(this);\n    if (idx == -1) throw \"Could not find craft\";\n    if (direction == \"down\" && idx < this.parent.crafts.length - 1) {\n      swap(this.parent.crafts, idx, idx + 1);\n    } else if (direction == \"up\" && idx > 0) {\n      swap(this.parent.crafts, idx, idx - 1);\n    } else {\n      console.warn(`Cannot move craft ${this.name} (${idx}) ${direction}`);\n    }\n  }\n  // Return true if this folder or any of its descendents match the given query.\n  matchesQuery(query) {\n    return this.name.toLowerCase().includes(query) || this.item.toLowerCase().includes(query);\n  }\n  // Convenience methods for encoding/decoding.\n  static fromCompressedBCJson(base64String) { return BCEncoder.convertCompressedBCJsonToCraft(base64String); }\n  static fromBCJson(bcJson) { return BCEncoder.convertBCJsonToCraft(bcJson); }\n  toBCJson() { return BCEncoder.convertCraftToBCJson(this); }\n  toCompressedBCJson() { return BCEncoder.convertCraftToCompressedBCJson(this); }\n}\n","import LZString from \"lz-string\";\nimport Craft from \"@/models/craft.js\";\nimport Database from \"@/models/database.js\";\nimport { generateUuid } from \"@/util/util.js\";\n\n// This module handles all conversions of our crafts into the formats used by BC/FBC, and vice-versa.\nexport default class BCEncoder {\n  static maxCraftsExportable = 40; // The limit on how many crafts can be exported at once, due to BC limitations.\n  // Convert our internal craft format into the BC craft format.\n  static convertCraftToBCJson(craft) {\n    return {\n      Item: craft.item,\n      Property: craft.property,\n      Lock: craft.lock,\n      Name: craft.name,\n      Description: craft.description,\n      Color: craft.color,\n      Private: craft.private,\n      Type: craft.type,\n      OverridePriority: craft.priority\n    }\n  }\n  // Convert our internal craft format into the compressed BC craft format used by FBC.\n  static convertCraftToCompressedBCJson(craft) {\n    return LZString.compressToBase64(JSON.stringify(craft.toBCJson()));\n  }\n  // Convert the BC craft format into our internal BC format.\n  static convertBCJsonToCraft(bcJson) {\n    const craft = new Craft();\n    craft.uuid = generateUuid();\n    craft.item = bcJson.Item;\n    craft.property = bcJson.Property;\n    craft.lock = bcJson.Lock;\n    craft.name = bcJson.Name;\n    craft.description = bcJson.Description;\n    craft.color = bcJson.Color;\n    craft.private = bcJson.Private == true;\n    craft.type = bcJson.Type;\n    craft.priority = bcJson.OverridePriority;\n    return craft;\n  }\n  // Convert a compressed BC JSON (exported by FBC) into our internal craft format.\n  static convertCompressedBCJsonToCraft(base64String) {\n    return this.convertBCJsonToCraft(JSON.parse(LZString.decompressFromBase64(base64String)));\n  }\n  // Convert a list of Crafts into a command the user can run on BC to import them all.\n  static convertCraftsToBCImportCommand(crafts) {\n    const dataString = this.convertCraftsToBCDataString(crafts.map(craft => craft.toBCJson()));\n    return `CraftingLoadServer(\"${dataString.replace(/\"/g, '\\\\\"')}\")`;\n  }\n  // Convert a list of BC craft JSONs into a compressed, UTF-encoded string that's used by BC to store all the player's crafts on the backend.\n  // See BC's Crafting.js:CraftingSaveServer().\n  static convertCraftsToBCDataString(crafts) {\n    if (!crafts) throw \"No crafts to encode.\";\n    if (crafts.length > this.maxCraftsExportable) throw new ExportLimitError();\n    let str = \"\";\n    for (let craft of crafts) {\n      if ((craft != null) && (craft.Item != null) && (craft.Item != \"\")) {\n        str = str + craft.Item + \"\";\n        str = str + ((craft.Property == null) ? \"\" : craft.Property) + \"\";\n        str = str + ((craft.Lock == null) ? \"\" : craft.Lock) + \"\";\n        str = str + ((craft.Name == null) ? \"\" : craft.Name.replace(\"\", \" \").replace(\"\", \" \")) + \"\";\n        str = str + ((craft.Description == null) ? \"\" : craft.Description.replace(\"\", \" \").replace(\"\", \" \")) + \"\";\n        str = str + ((craft.Color == null) ? \"\" : craft.Color.replace(\"\", \" \").replace(\"\", \" \")) + \"\";\n        str = str + (((craft.Private != null) && craft.Private) ? \"T\" : \"\") + \"\";\n        str = str + ((craft.Type == null) ? \"\" : craft.Type.replace(\"\", \" \").replace(\"\", \" \")) + \"\";\n        str = str + ((craft.OverridePriority == null) ? \"\" : craft.OverridePriority.toString()) + \"\";\n      } else {\n        str = str + \"\";\n      }\n    }\n    while ((str.length >= 1) && (str.substring(str.length - 1) == \"\")) {\n      str = str.substring(0, str.length - 1);\n    }\n    return LZString.compressToUTF16(str);\n  }\n  // Convert a user-provided string in any supported format into a list of Crafts. Formats supported are:\n  // 1) BCCM database export (or array thereof)\n  // 2) BCCM craft JSON (or array thereof)\n  // 3) BC craft JSON (or array thereof)\n  // 4) BC compressed craft JSON (or whitespace-separated list thereof)\n  static convertStringToCrafts(stringToImport) {\n    if (!stringToImport) throw new ImportError(\"No data to import.\");\n    stringToImport = stringToImport.trim();\n    if (stringToImport[0] == \"{\" || stringToImport[0] == \"[\") {\n      let json;\n      try {\n        json = JSON.parse(stringToImport);\n      } catch (e) {\n        throw new ImportError(\"JSON\", `The provided text is not valid JSON: \"${stringToImport.length > 10 ? `${stringToImport.substr(0, 9)}...` : stringToImport}\"`);\n      }\n      if (Array.isArray(json)) {\n        return json.map(c => this.convertAnyJSONToCrafts(c)).flat().filter(e => e != null);\n      } else {\n        return this.convertAnyJSONToCrafts(json);\n      }\n    }\n    try {\n      const codes = stringToImport.replace(/[^a-zA-Z0-9=+/]+/g, \" \").split(\" \").filter(s => s.length > 0);\n      return codes.map(c => Craft.fromCompressedBCJson(c));\n    } catch (e) {\n      throw new ImportError(\"BC compressed craft JSON\", e);\n    }\n  }\n  // Helper for the above function.\n  static convertAnyJSONToCrafts(json) {\n    if (json.version) {\n      // (1) The JSON corresponds to a full BCCM database export; load its crafts\n      try {\n        return new Database().deserialize(json).rootFolder.findAllCrafts();\n      } catch (e) {\n        throw new ImportError(\"BCCM database export\", e);\n      }\n    } else if (json.uuid && json.item) {\n      // (2) The JSON corresponds to a BCCM Craft\n      return [json];\n    } else if (json.Item) {\n      // (3) The JSON corresponds to a BC Craft\n      try {\n        return [this.convertBCJsonToCraft(json)];\n      } catch (e) {\n        throw new ImportError(\"BC JSON\", e);\n      }\n    } else {\n      throw new ImportError(\"JSON\", \"Could not detect a valid format.\")\n    }\n  }\n}\nclass ExportLimitError extends Error {\n  constructor() {\n    super(`Cannot export more than ${BCEncoder.maxCraftsExportable} crafts at once.`);\n    this.name = \"ExportLimitError\";\n  }\n}\nclass ImportError extends Error {\n  constructor(nameOfAutodetectedFormat, error) {\n    super(`An error occurred when attempting to process the data as ${nameOfAutodetectedFormat}: ${error}`);\n    this.name = \"ImportError\";\n  }\n}\n","import BCEncoder from \"@/util/bcEncoder.js\";\nimport Craft from \"@/models/craft.js\";\nimport { generateUuid, swap } from \"@/util/util.js\";\n\n// This class represents a folder in which we can hierarchically organize Crafts.\nexport default class Folder {\n  uuid = null; // [String] Internal identifier for this folder.\n  name = null; // [String] User-provided name.\n  parent = null; // [Folder] The parent of this folder, or null if it's the root folder.\n  subfolders = null; // [Array of Folder] A list of all the direct subfolders.\n  crafts = null; // [Array of Craft] A list of all the crafts in this folder (but not subfolders).\n  collapsed = null; // [Boolean] Whether this folder is expanded or collapsed in the explorer.\n  isFolder = true; // [Boolean] Way to discriminate between Crafts and Folders for some methods that can take either object.\n\n  constructor(name, parent) {\n    this.uuid = generateUuid();\n    this.name = name;\n    this.parent = parent;\n    this.subfolders = [];\n    this.crafts = [];\n    this.collapsed = false;\n  }\n  // Return an array of all the crafts contained within this folder and its subfolders.\n  findAllCrafts() {\n    return this.crafts.concat(...this.subfolders.map(sf => sf.findAllCrafts()));\n  }\n  // Given the UUID of a craft, try to find it in this and all subfolders.\n  findCraft(uuid) {\n    let craftFound = this.crafts.find(craft => craft.uuid == uuid);\n    if (craftFound) return craftFound;\n    for (let subfolder of this.subfolders) {\n      craftFound = subfolder.findCraft(uuid);\n      if (craftFound) return craftFound;\n    }\n    return false;\n  }\n  // Given the UUID of a folder, try to find it among all the descendents of this one.\n  findFolder(uuid) {\n    if (this.uuid == uuid) return this;\n    return this.subfolders.reduce((found, sf) => found || sf.findFolder(uuid), null);\n  }\n  // Convert this folder into a plain JSON to be persisted.\n  toJson() {\n    return {\n      uuid: this.uuid,\n      name: this.name,\n      subfolders: this.subfolders.map(sf => sf.toJson()),\n      crafts: this.crafts.map(it => it.toJson()),\n      collapsed: this.collapsed\n    }\n  }\n  // Return true if this folder contains nothing at all, neither crafts nor subfolders.\n  isEmpty() {\n    return this.crafts.length == 0 && this.subfolders.length == 0;\n  }\n  // Return true if this folder is contained within the parameter folder, or if it is the same one.\n  isWithin(folder) {\n    return folder == this || (this.parent ? this.parent.isWithin(folder) : false);\n  }\n  // Return an array containing all ancestor folders in order, plus this one itself.\n  getAncestry() {\n    return this.parent ? this.parent.getAncestry().concat([this]) : [this];\n  }\n  // Create a folder out of a plain JSON that was persisted\n  static fromJson(json, parent = null) {\n    const f = new Folder();\n    f.uuid = json.uuid;\n    f.name = json.name,\n    f.parent = parent;\n    f.subfolders = json.subfolders.map(sfjson => Folder.fromJson(sfjson, f));\n    f.crafts = (json.crafts || json.items).map(itjson => Craft.fromJson(itjson, f)); // TODO: remove the \"json.items\" left for backwards-compatibility\n    f.collapsed = json.collapsed;\n    return f;\n  }\n  // Convert all the crafts in this folder into a command the user can run on BC to import them all\n  toBCImportCommand() {\n    return BCEncoder.convertCraftsToBCImportCommand(this.findAllCrafts());\n  }\n  // Move this folder up or down among its siblings. For moving to a different folder, see Database.moveFolder().\n  move(direction) {\n    const idx = this.parent.subfolders.indexOf(this);\n    if (idx == -1) throw \"Could not find subfolder\";\n    if (direction == \"down\" && idx < this.parent.subfolders.length - 1) {\n      swap(this.parent.subfolders, idx, idx + 1);\n    } else if (direction == \"up\" && idx > 0) {\n      swap(this.parent.subfolders, idx, idx - 1);\n    } else {\n      console.warn(`Cannot move folder ${this.name} (${idx}) ${direction}`);\n    }\n  }\n  // Return true if this folder or any of its descendents match the given query.\n  matchesQuery(query) {\n    return this.name.toLowerCase().includes(query) ||\n      this.crafts.some(c => c.matchesQuery(query)) ||\n      this.subfolders.some(sf => sf.matchesQuery(query))\n  }\n}\n","import { assertType } from \"@/util/validations.js\"\n\n// This class stores all user settings.\nexport default class Settings {\n  static DEFAULT_SETTINGS = {\n    confirmCraftDeletion: true\n  };\n  static KEYS = Object.keys(Settings.DEFAULT_SETTINGS);\n\n  constructor() {\n    this.loadJson(Settings.DEFAULT_SETTINGS);\n  }\n  // Generate a new Settings object from the provided JSON.\n  static fromJson(json) {\n    const settings = new Settings();\n    settings.loadJson(json);\n    return settings;\n  }\n  // Load the settings from a JSON into this Settings object.\n  loadJson(json) {\n    if (typeof(json) == \"string\") json = JSON.parse(json);\n    const defaultSettings = Settings.DEFAULT_SETTINGS;\n    for (let settingName of Settings.KEYS) {\n      if (json[settingName] !== undefined) {\n        this[settingName] = json[settingName];\n      } else {\n        console.warn(`Missing field '${settingName}' in loaded settings, using default.`);\n        this[settingName] = defaultSettings[settingName];\n      }\n    }\n    this.validate();\n  }\n  // Convert this object into a JSON for storage.\n  toJson() {\n    const json = {};\n    Settings.KEYS.forEach(key => { json[key] = this[key]; });\n    return json;\n  }\n  // Check that all the settings are valid.\n  validate() {\n    assertType(this, 'confirmCraftDeletion', 'boolean');\n  }\n}\n","import Folder from \"@/models/folder.js\";\nimport Settings from \"@/models/settings.js\";\nimport BCEncoder from \"@/util/bcEncoder.js\";\nimport { debounce, renameObjectsToMakeThemUnique } from \"@/util/util.js\";\n\n// This class contains all the user data.\nexport default class Database {\n  rootFolder = null; // [Folder] The root-level folder, which contains all crafts and subfolders.\n  settings = null; // [Settings] The user settings for this database.\n\n  constructor() {\n    this.saveToLocalStorageWithDebounce = debounce(() => this.saveToLocalStorage(), 1000); // Features that might be used in quick succession can call this instead of saveToLocalStorage() for better performance.\n    if (window.localStorage.database) {\n      try {\n        this.deserialize(window.localStorage.database);\n      } catch(e) {\n        window.localStorage.failed = window.localStorage.database;\n        console.error(`Error loading saved database: ${e.message}. Copying old database to localStorage.failed and resetting.`);\n        this.reset();\n      }\n    } else {\n      this.reset();\n    }\n  }\n  // Remove all data from the database and restore it to its default state.\n  reset() {\n    this.rootFolder = new Folder(\"Crafted items\");\n    this.settings = new Settings();\n    this.saveToLocalStorage();\n  }\n  // Add a list of Crafts to the root folder of this database.\n  addCrafts(newCrafts) {\n    let stats = { new: 0, edited: 0, failed: 0 }\n    const allCrafts = this.rootFolder.findAllCrafts();\n    // If there are multiple crafts with the same name among the imported crafts, rename them so that all names are unique.\n    renameObjectsToMakeThemUnique(newCrafts);\n    // Now, go craft by craft and import them.\n    for (let craft of newCrafts) {\n      try {\n        craft.validate();\n      } catch(e) {\n        console.warn(`Skipping invalid craft \"${craft.name}\": ${e.message}\"`);\n        stats.failed++;\n        continue;\n      }\n      // If there's already a craft with the same name, update it instead of creating a new one.\n      const existingCraft = allCrafts.find(c => c.name == craft.name);\n      if (existingCraft) {\n        Object.assign(existingCraft, craft);\n        stats.edited++;\n      } else {\n        craft.parent = this.rootFolder;\n        this.rootFolder.crafts.push(craft);\n        stats.new++;\n      }\n    }\n    this.saveToLocalStorage();\n    stats.total = stats.new + stats.edited + stats.failed;\n    return stats;\n  }\n  // Delete a Craft from the database\n  removeCraft(craft) {\n    craft.parent.crafts = craft.parent.crafts.filter(c => c != craft);\n  }\n  // Move a Craft to a different Folder. For changing its position within the parent Folder, see Craft.move() instead.\n  moveCraft(craft, targetFolder) {\n    const sourceFolder = craft.parent;\n    if (sourceFolder != targetFolder) {\n      sourceFolder.crafts = sourceFolder.crafts.filter(it => it != craft);\n      targetFolder.crafts.push(craft);\n      craft.parent = targetFolder;\n    }\n    this.saveToLocalStorage();\n  }\n  // Move a Folder to a different Folder. For changing its position within the parent Folder, see Folder.move() instead.\n  moveFolder(movingFolder, newParent) {\n    if (!movingFolder.parent) throw new MoveError(\"Cannot move the root folder.\");\n    if (movingFolder == newParent) throw new MoveError(\"Cannot move folder into itself.\");\n    if (newParent == movingFolder.parent) return;\n    if (newParent.isWithin(movingFolder)) throw new MoveError(\"Cannot move a folder into one of its descendents.\");\n    const oldParent = movingFolder.parent;\n    oldParent.subfolders = oldParent.subfolders.filter(sf => sf != movingFolder);\n    movingFolder.parent = newParent;\n    newParent.subfolders.push(movingFolder);\n  }\n  // Create a new Folder as a child of the provided parent Folder\n  addFolder(parent, name) {\n    const newFolder = new Folder(name, parent);\n    parent.subfolders.push(newFolder);\n    this.saveToLocalStorage();\n    return newFolder;\n  }\n  // Delete a Folder from the database.\n  removeFolder(folder) {\n    if (folder.parent) {\n      folder.parent.subfolders = folder.parent.subfolders.filter(sf => sf != folder);\n      this.saveToLocalStorage();\n    } else throw \"Cannot delete root folder.\";\n  }\n  // Import Crafts from the provided string, which can be in any of the supported formats.\n  importCrafts(stringToImport) {\n    return this.addCrafts(BCEncoder.convertStringToCrafts(stringToImport));\n  }\n  // Serialize this database to be stored in localStorage.\n  serialize() {\n    return JSON.stringify({\n      version: 1,\n      rootFolder: this.rootFolder.toJson(),\n      settings: this.settings.toJson()\n    })\n  }\n  // Replace the contents of the current database with the ones in the provided JSON.\n  deserialize(json) {\n    if (!json) {\n      throw new DeserializationError(\"No data to process.\");\n    }\n    if (typeof(json) == \"string\") {\n      try {\n        json = JSON.parse(json);\n      } catch(e) {\n        throw new DeserializationError(`The provided text is not valid JSON: \"${json.length > 10 ? `${json.substr(0, 9)}...` : json}\"`);\n      }\n    }\n    try {\n      if (json.rootFolder) {\n        this.rootFolder = Folder.fromJson(json.rootFolder);\n      } else {\n        throw new DeserializationError(\"Parsed JSON does not contain rootFolder attribute.\");\n      }\n    } catch(e) {\n      throw new DeserializationError(\"Unexpected error when deserializing crafts: \" + e);\n    }\n    try {\n      if (json.settings) {\n        this.settings = Settings.fromJson(json.settings);\n      } else {\n        throw new DeserializationError(\"Parsed JSON does not contain settings attribute.\");\n      }\n    } catch(e) {\n      console.warn(\"Unexpected error when deserializing settings, using defaults instead. Reason: \" + e);\n      this.settings = new Settings();\n    }\n    return this;\n  }\n  // Persist the database in the browser's Local Storage.\n  saveToLocalStorage() {\n    window.localStorage.database = this.serialize();\n  }\n  // Return how many crafts there are in total in the database.\n  findCraftCount() {\n    return this.rootFolder.findAllCrafts().length;\n  }\n  // If there is any craft that shares name with another, return its name. Otherwise, return null.\n  findRepeatedCraftName() {\n    return this.rootFolder.findAllCrafts().map(c => c.name).filter((craft, idx, arr) => arr.indexOf(craft) !== idx)[0] || null;\n  }\n}\n// Error thrown whenever the user attempts to import data from clipboard or a text file, but the format or contents are invalid.\nclass DeserializationError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"DeserializationError\";\n  }\n}\n// Error thrown whenever the user tries to move a craft or folder to an invalid location.\nclass MoveError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"MoveError\";\n  }\n}\n","import { defineStore } from 'pinia';\nimport Database from \"@/models/database.js\";\n\n// The Explorer view has shared state between many components so it's centralized here for easier access.\nexport const useExplorerStore = defineStore('explorer', {\n  state: () => ({\n    database:  new Database(), // [Database] The currently open database\n    query: \"\", // [String] The user's search query to filter items, lowercased and debounced.\n    selectedEntity: null, // [Folder or Craft] The folder or craft that the user has clicked to display details.\n    multiselectionEntities: [], // [Array of Folder or Craft] A list of folders/crafts the user can select to export together. The name \"multiselection\" is to differentiate it from the regular, unique selection that happens when the user clicks on a folder/craft to display its details on the sidebar.\n    repeatedCraftName: null // [String] If two or more crafts are found with the same name, that name is set here. This check is done after the user edits a name field.\n  }),\n  getters: {\n    // Get a list of all the Crafts encompassed by the multiselection.\n    multiselectionCrafts(state) {\n      const uniqueCrafts = new Set();\n      for (let entity of state.multiselectionEntities) {\n        if (entity.isFolder) {\n          entity.findAllCrafts().forEach(c => uniqueCrafts.add(c));\n        } else {\n          uniqueCrafts.add(entity);\n        }\n      }\n      return [...uniqueCrafts];\n    }\n  },\n  actions: {\n    // Toggle whether an entity is being multiselected.\n    toggleMultiselectionOf(entity) {\n      if (this.multiselectionEntities.includes(entity)) {\n        this.multiselectionEntities = this.multiselectionEntities.filter(e => e != entity);\n      } else {\n        this.multiselectionEntities.push(entity);\n      }\n    },\n    // Check if there are multiple crafts with the same name, and if so, store the name in a variable to warn the user.\n    findRepeatedCraftName() {\n      this.repeatedCraftName = this.database.findRepeatedCraftName();\n    }\n  }\n});\n","import { mapState, mapStores } from 'pinia';\nimport { useAlertStore } from \"@/stores/alert.js\";\nimport { useExplorerStore } from \"@/stores/explorer.js\";\n\n// Since most components use the same stores, they are extracted here to avoid repeated code.\nexport default {\n  ...mapState(useExplorerStore, ['database', 'query', 'selectedEntity', 'multiselectionEntities', 'multiselectionCrafts', 'repeatedCraftName']),\n  ...mapStores(useAlertStore, useExplorerStore)\n}\n","<template>\n  <div class=\"row\">\n    <div id=\"craft-list\" :class=\"'scrollable ' + (selectedEntity ? 'col-8 col-xl-9' : 'col-12')\" @keydown.delete=\"deleteSelectedEntity\">\n      <div v-if=\"multiselectionCrafts.length > 0\" id=\"multiselection-notice\" :class=\"{ 'explorer-notice': true, invalid: tooManyMultiselected }\">\n        <p class=\"my-1\">{{ multiselectionCrafts.length }} {{ pluralize('craft', multiselectionCrafts.length) }} selected.</p>\n        <button class=\"btn-transparent text-bold pl-0\" @click=\"this.explorerStore.multiselectionEntities = []\">Cancel</button>\n        <button class=\"btn-transparent float-right text-bold pr-0\" @click=\"copyMultiselection()\">Export</button>\n      </div>\n      <div v-if=\"repeatedCraftName\" id=\"repeated-notice\" class=\"explorer-notice\">\n        <p class=\"my-1\"><img src=\"@/assets/img/warn.svg\" class=\"icon\"/> Repeated craft name:</p>\n        <p class=\"my-1 text-bold\">{{ repeatedCraftName }}</p>\n      </div>\n      <template v-if=\"database.rootFolder.crafts.length > 0 || database.rootFolder.subfolders.length > 0\">\n        <Folder :folder=\"database.rootFolder\" :depth=\"0\"/>\n      </template>\n      <div v-else class=\"p-5 mt-5 text-center\">\n        Import some crafts to display them here. <img src=\"@/assets/img/arrow-ne.svg\" class=\"ml-2\" style=\"width: 20px\"/>\n      </div>\n    </div>\n    <template v-if=\"selectedEntity\">\n      <FolderDetails v-if=\"selectedEntity.isFolder\" class=\"col-4 col-xl-3\"/>\n      <CraftDetails v-else class=\"col-4 col-xl-3\"/>\n    </template>\n  </div>\n</template>\n<style>\n</style>\n<script>\nimport stores from \"@/stores/stores.js\";\nimport CraftDetails from \"./CraftDetails.vue\";\nimport FolderDetails from \"./FolderDetails.vue\";\nimport Folder from \"./Folder.vue\";\nimport BCEncoder from \"@/util/bcEncoder.js\";\nimport { pluralize } from \"@/util/util.js\";\n\nexport default {\n  name: 'Home',\n  components: { Folder, CraftDetails, FolderDetails },\n  computed: {\n    ...stores,\n    tooManyMultiselected() {\n      return this.multiselectionCrafts.length > BCEncoder.maxCraftsExportable;\n    }\n  },\n  methods: {\n    handleCraftClick(craft) {\n      this.selectedEntity = craft;\n    },\n    copyMultiselection() {\n      try {\n        window.navigator.clipboard.writeText(BCEncoder.convertCraftsToBCImportCommand(this.multiselectionCrafts));\n      } catch(e) {\n        if (e.name == \"ExportLimitError\") this.alertStore.alert(e.message);\n        else throw e;\n      }\n    },\n    pluralize\n  },\n  created() {\n    this.explorerStore.findRepeatedCraftName();\n  }\n}\n</script>\n","<!-- This component is the sidebar that appears on the right whenever you click on a craft to edit it. -->\n<template>\n  <div id=\"sidepanel\" class=\"scrollable\">\n    <div class=\"d-flex justify-content-between\">\n      <h1><img src=\"@/assets/img/craft.svg\" class=\"icon-lg\" alt=\"\"/> Edit craft</h1>\n      <button class=\"btn-transparent p-2 mt-4\" @click=\"explorerStore.selectedEntity = null\">\n        <img src=\"@/assets/img/cross.svg\" class=\"icon\"/>\n      </button>\n    </div>\n    <label>\n      Name\n      <small class=\"float-right\">{{ craft.name.length }}/{{ nameMaxLength }}</small>\n      <input type=\"text\" v-model=\"craft.name\" @input=\"handleNameInput()\" :maxlength=\"nameMaxLength\"/>\n    </label>\n    <label>\n      Description\n      <small class=\"float-right\">{{ craft.description.length }}/{{ descrMaxLength }}</small>\n      <input type=\"text\" v-model=\"craft.description\" @change=\"database.saveToLocalStorage()\" :maxlength=\"descrMaxLength\"/>\n    </label>\n    <label>\n      Colors\n      <span v-if=\"craft.color\" style=\"float: right\">\n        <template v-for=\"color in craft.color.split(',')\">\n          <span v-if=\"color != 'Default'\" :style=\"{ color: color }\"></span>\n        </template>\n      </span>\n      <input type=\"text\" v-model=\"craft.color\" disabled=\"\"/>\n    </label>\n    <label>\n      Item codename\n      <input type=\"text\" v-model=\"craft.item\" disabled=\"\"/>\n    </label>\n    <label>\n      <img src=\"@/assets/img/star.svg\" class=\"icon\" alt=\"\"/> Property\n      <input type=\"text\" v-model=\"craft.property\" disabled=\"\"/>\n    </label>\n    <label>\n      Default position\n      <input type=\"text\" v-model=\"craft.type\" disabled=\"\"/>\n    </label>\n    <label>\n      <img src=\"@/assets/img/lock.svg\" class=\"icon\" alt=\"\"/> Lock\n      <input type=\"text\" v-model=\"craft.lock\" disabled=\"\"/>\n    </label>\n    <label>\n      <input type=\"checkbox\" v-model=\"craft.private\" @change=\"database.saveToLocalStorage()\"/> Private\n    </label>\n    <div class=\"row mt-3 mx-n1\">\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-success w-100 ellipsis\" @click=\"copyCompressedBCJson\"><img src=\"@/assets/img/clip-write.svg\"/> Copy as export</button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100 ellipsis\" @click=\"copyBCJson\"><img src=\"@/assets/img/clip-write.svg\"/> Copy as JSON</button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"explorerStore.toggleMultiselectionOf(craft)\">\n          <img src=\"@/assets/img/checkbox.svg\"/> Select\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-warning w-100\" @click=\"overwriteCraftWithClipboard\" title=\"Overwrite this craft with the data currently in the clipboard\">\n          <img src=\"@/assets/img/clip-read.svg\"/> Overwrite\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"moveCraft('up')\" :disabled=\"!craft.parent || craft.parent.crafts[0] == craft\">\n          <img src=\"@/assets/img/arrow-up.svg\"/> Move up\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-danger w-100\" @click=\"deleteCraft\">\n          <img src=\"@/assets/img/trash.svg\"/> Delete\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"moveCraft('down')\" :disabled=\"!craft.parent || craft.parent.crafts[craft.parent.crafts.length - 1] == craft\">\n          <img src=\"@/assets/img/arrow-down.svg\"/> Move down\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport stores from \"@/stores/stores.js\";\nimport { readClipboard, debounce } from \"@/util/util.js\";\nimport Craft from \"@/models/craft.js\";\n\nexport default {\n  name: 'CraftDetails',\n  computed: {\n    craft() {\n      return this.selectedEntity;\n    },\n    nameMaxLength() { return Craft.NAME_MAX_LENGTH; },\n    descrMaxLength() { return Craft.DESCR_MAX_LENGTH; },\n    ...stores\n  },\n  methods: {\n    handleNameInput() {\n      // Warn the user if there is another craft with the same name in the database, warn the user instead of saving.\n      this.explorerStore.findRepeatedCraftName();\n      if (!this.repeatedCraftName) {\n        this.database.saveToLocalStorage();\n      }\n    },\n    deleteCraft() {\n      if (!this.database.settings.confirmCraftDeletion || confirm(\"Are you sure you want to delete this craft?\")) {\n        const parent = this.craft.parent;\n        const indexOfCraft = parent.crafts.indexOf(this.craft);\n        const indexToSelectNext = indexOfCraft < 1 ? 0 : indexOfCraft - 1;\n        this.database.removeCraft(this.craft);\n        this.explorerStore.selectedEntity = parent.crafts[indexToSelectNext] || null;\n      }\n    },\n    copyCompressedBCJson() {\n      window.navigator.clipboard.writeText(this.craft.toCompressedBCJson());\n    },\n    copyBCJson() {\n      window.navigator.clipboard.writeText(JSON.stringify(this.craft.toBCJson()));\n    },\n    // Update the currently selected Craft by overwriting its data with the BC JSON that the user currently has in their clipboard\n    overwriteCraftWithClipboard() {\n      readClipboard().then(text => {\n        if (text && text.length > 100) {\n          try {\n            const sourceCraft = Craft.fromCompressedBCJson(text);\n            const targetCraft = this.craft;\n            for (let key of [\"item\", \"property\", \"lock\", \"name\", \"description\", \"color\", \"private\", \"type\", \"priority\"]) {\n              targetCraft[key] = sourceCraft[key];\n            }\n            this.database.saveToLocalStorage();\n          } catch(e) {\n            console.error(e);\n            this.alertStore.alert(\"Could not parse the provided craft.\");\n          }\n        } else {\n          this.alertStore.alert(\"You need to have an exported craft in your clipboard.\");\n        }\n      })\n    },\n    moveCraft(direction) {\n      this.craft.move(direction);\n      this.database.saveToLocalStorageWithDebounce();\n    },\n  },\n  created() {\n    this.handleNameInput = debounce(this.handleNameInput, 500);\n  }\n}\n</script>\n","import { render } from \"./CraftDetails.vue?vue&type=template&id=406e9c86\"\nimport script from \"./CraftDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CraftDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- This component is the sidebar that appears on the right whenever you click on a folder to edit it -->\n<template>\n  <div id=\"sidepanel\" class=\"scrollable\">\n    <div class=\"d-flex justify-content-between\">\n      <h1><img src=\"@/assets/img/folder.svg\" class=\"icon-lg\" alt=\"\"/> Edit folder</h1>\n      <button class=\"btn-transparent p-2 mt-4\" @click=\"explorerStore.selectedEntity = null\">\n        <img src=\"@/assets/img/cross.svg\" class=\"icon\"/>\n      </button>\n    </div>\n    <label>\n      Name\n      <input type=\"text\" v-model=\"folder.name\" ref=\"txtName\" @change=\"database.saveToLocalStorage()\" maxlength=\"30\"/>\n    </label>\n    <div v-if=\"totalCrafts > 0\" class=\"mt-2 text-sm\">{{ totalCrafts }} total {{ pluralize('craft', totalCrafts) }}</div>\n    <div v-else class=\"mt-2 text-sm\">No crafts</div>\n    <div class=\"row mt-2 mx-n1\">\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-success w-100 ellipsis\" @click=\"copyImportCommand\"><img src=\"@/assets/img/clip-write.svg\"/> Copy as export</button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100 ellipsis\" @click=\"copyBCJson\"><img src=\"@/assets/img/clip-write.svg\"/> Copy as JSON</button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-success w-100\" @click=\"addFolder\"><img src=\"@/assets/img/plus.svg\"/> New subfolder</button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"explorerStore.toggleMultiselectionOf(folder)\">\n          <img src=\"@/assets/img/checkbox.svg\"/> Select\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"moveFolder('up')\" :disabled=\"!folder.parent || folder.parent.subfolders[0] == folder\">\n          <img src=\"@/assets/img/arrow-up.svg\"/> Move up\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100 ellipsis\" :disabled=\"totalCrafts == 0\" @click=\"toggleVisibilityOfAllCrafts\">\n          <img src=\"@/assets/img/visibility.svg\"/> Toggle visibility\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-primary w-100\" @click=\"moveFolder('down')\" :disabled=\"!folder.parent || folder.parent.subfolders[folder.parent.subfolders.length - 1] == folder\">\n          <img src=\"@/assets/img/arrow-down.svg\"/> Move down\n        </button>\n      </div>\n      <div class=\"col-12 col-md-6 p-1\">\n        <button class=\"btn btn-danger w-100\" @click=\"deleteFolder\" :disabled=\"!folder.parent\">\n          <img src=\"@/assets/img/trash.svg\"/> Delete\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport stores from \"@/stores/stores.js\";\nimport { pluralize } from \"@/util/util.js\";\n\nexport default {\n  name: 'FolderDetails',\n  computed: {\n    // The folder whose details we are currently displaying.\n    folder() {\n      return this.selectedEntity;\n    },\n    totalCrafts() {\n      return this.folder.findAllCrafts().length;\n    },\n    ...stores\n  },\n  methods: {\n    // Create a new folder as a child of the currently selected one.\n    addFolder() {\n      const newFolder = this.database.addFolder(this.folder, 'New folder');\n      this.folder.collapsed = false;\n      this.explorerStore.selectedEntity = newFolder;\n      this.$refs.txtName.focus();\n    },\n    // Delete the currently selected folder.\n    deleteFolder() {\n      const craftCount = this.folder.findAllCrafts().length;\n      if (craftCount == 0 || confirm(`Delete ${this.folder.name || 'this folder'} and the ${craftCount} craft(s) inside?`)) {\n        this.database.removeFolder(this.folder);\n        this.explorerStore.selectedEntity = this.folder.parent;\n      }\n    },\n    // Copy all of the folder's crafts to the clipboard as a console command to run on BC to import them.\n    copyImportCommand() {\n      try {\n        window.navigator.clipboard.writeText(this.folder.toBCImportCommand());\n      } catch(e) {\n        if (e.name == \"ExportLimitError\") this.alertStore.alert(e.message);\n        else throw e;\n      }\n    },\n    // Copy all of the folder's crafts to the clipboard as an array of BC JSONs.\n    copyBCJson() {\n      window.navigator.clipboard.writeText(JSON.stringify(this.folder.findAllCrafts().map(c => c.toBCJson())));\n    },\n    // Move the folder up or down among its siblings.\n    moveFolder(direction) {\n      this.folder.move(direction);\n      this.database.saveToLocalStorageWithDebounce();\n    },\n    // Make all the crafts within this folder public or private at once.\n    toggleVisibilityOfAllCrafts() {\n      const crafts = this.folder.findAllCrafts();\n      const firstCraftIsPrivate = crafts[0].private;\n      crafts.forEach(c => {\n        c.private = !firstCraftIsPrivate;\n      });\n      this.database.saveToLocalStorage();\n    },\n    pluralize\n  }\n}\n</script>\n","import { render } from \"./FolderDetails.vue?vue&type=template&id=0dbaf892\"\nimport script from \"./FolderDetails.vue?vue&type=script&lang=js\"\nexport * from \"./FolderDetails.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div @drop=\"drop($event)\" @dragover.prevent @dragenter.prevent>\n    <div :class=\"{'folder clickable': true, active: selectedEntity == folder}\" @click=\"explorerStore.selectedEntity = folder\">\n      <span v-if=\"depth > 0\" class=\"c-tree\" :style=\"{ marginLeft: `${depth * 13}px` }\"></span>\n      <img v-if=\"multiselectionEntities.length == 0\" src=\"@/assets/img/folder.svg\" class=\"icon mx-1\" alt=\"\" draggable @dragstart=\"startDrag($event, folder)\"/>\n      <input v-else type=\"checkbox\" class=\"my-0 mr-1\" :checked=\"multiselectionEntities.includes(folder)\" @change=\"explorerStore.toggleMultiselectionOf(folder)\"/>\n      <span>\n        {{ folder.name || \"Unnamed\" }} <span class=\"total-crafts\">({{ totalCrafts }})</span>\n      </span>\n      <span v-if=\"folder.parent && !folder.isEmpty() && !query\" class=\"px-2\" @click=\"toggleCollapse()\" alt=\"Toggle collapse\">\n        <img :src=\"require(`@/assets/img/${effectiveCollapsed ? 'plus' : 'minus'}.svg`)\" class=\"icon-sm\" alt=\"\"/>\n      </span>\n    </div>\n    <template v-if=\"!effectiveCollapsed\">\n      <div v-for=\"subfolder in folder.subfolders\" :key=\"subfolder.uuid\">\n        <Folder v-show=\"!query || subfolder.matchesQuery(query)\" :folder=\"subfolder\" :depth=\"depth + 1\" :query=\"query\"/>\n      </div>\n      <table v-if=\"folder.crafts\" class=\"crafts-table w-100\">\n        <tbody>\n          <tr v-for=\"(craft, idx) in folder.crafts\" :key=\"craft.uuid\" v-show=\"!query || craft.matchesQuery(query)\" :class=\"{ active: selectedEntity == craft }\" @click=\"explorerStore.selectedEntity = craft\">\n            <td class=\"c-name\">\n              <span class=\"c-tree\" :style=\"{ marginLeft: `${(depth + 1) * 13}px` }\">{{ idx == folder.crafts.length - 1 ? \"\" : \"\" }}</span>\n              <img v-if=\"multiselectionEntities.length == 0\" src=\"@/assets/img/drag.svg\" class=\"clickable-icon\" draggable @dragstart=\"startDrag($event, craft)\" title=\"Drag to move craft to a different folder\" alt=\"\"/>\n              <input v-else type=\"checkbox\" class=\"my-0 mr-1\" :checked=\"multiselectionEntities.includes(craft)\" @change=\"explorerStore.toggleMultiselectionOf(craft)\"/>\n              <span>{{ craft.name }}</span>\n            </td>\n            <td class=\"c-priv text-center\">\n              <img src=\"@/assets/img/private.svg\" class=\"icon\" v-if=\"craft.private\" title=\"Private\" alt=\"Private\"/>\n              <img src=\"@/assets/img/public.svg\" class=\"icon\" v-else title=\"Public\" alt=\"Public\"/>\n            </td>\n            <td class=\"c-craft\">\n              <span class=\"mr-2\">{{ craft.item }}</span>\n              <template v-if=\"craft.color\">\n                <template v-for=\"color in craft.color.split(',')\">\n                  <span v-if=\"color != 'Default'\" :style=\"{ color: color }\"></span>\n                </template>\n              </template>\n            </td>\n            <td class=\"c-prop\">\n              <template v-if=\"craft.property\">\n                <img src=\"@/assets/img/star.svg\" class=\"icon\" alt=\"\"/> {{ craft.property }}\n              </template>\n              <span v-else class=\"muted\">No property</span>\n            </td>\n            <td class=\"c-lock\">\n              <template v-if=\"craft.lock\">\n                <img src=\"@/assets/img/lock.svg\" class=\"icon\" alt=\"\"/> {{ craft.lock.replace(\"Padlock\", \"\") }}\n              </template>\n              <span v-else class=\"muted\">No lock</span>\n            </td>\n            <td class=\"c-type\">\n              {{ craft.type }}\n              <span v-if=\"!craft.type\" class=\"muted\">No position</span>\n            </td>\n            <td class=\"c-priority\">{{ craft.priority }}</td>\n            <td class=\"c-descr\">\n              {{ craft.description }}\n              <span v-if=\"!craft.description\" class=\"muted\">No description</span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </template>\n  </div>\n</template>\n<style>\n</style>\n<script>\nimport stores from \"@/stores/stores.js\";\n\nexport default {\n  name: 'Folder',\n  props: {\n    folder: Object,\n    depth: Number\n  },\n  computed: {\n    totalCrafts() {\n      return this.folder.findAllCrafts().length;\n    },\n    // If there's a query, we temporarily un-collapse all folders regardless of their previous state.\n    effectiveCollapsed() {\n      return this.folder.collapsed && !this.query;\n    },\n    ...stores\n  },\n  methods: {\n    // Trigger when the user starts dragging a craft or folder.\n    startDrag(evt, entity) {\n      evt.stopPropagation();\n      evt.dataTransfer.dropEffect = 'move';\n      evt.dataTransfer.effectAllowed = 'move';\n      if (entity.isFolder) {\n        evt.dataTransfer.setData('folderUuid', entity.uuid);\n      } else {\n        evt.dataTransfer.setData('craftUuid', entity.uuid);\n      }\n    },\n    // Trigger when the user drops a craft or folder somewhere else.\n    drop(evt) {\n      evt.stopPropagation();\n      try {\n        if (evt.dataTransfer.getData('craftUuid')) {\n          const craft = this.database.rootFolder.findCraft(evt.dataTransfer.getData('craftUuid'));\n          if (craft) {\n            this.database.moveCraft(craft, this.folder);\n          } else {\n            throw \"Couldn't find craft: \" + evt.dataTransfer.getData('craftUuid');\n          }\n        } else {\n          const folder = this.database.rootFolder.findFolder(evt.dataTransfer.getData('folderUuid'));\n          if (folder) {\n            this.database.moveFolder(folder, this.folder);\n            this.folder.collapsed = false; // eslint-disable-line vue/no-mutating-props\n          } else {\n            throw \"Couldn't find folder: \" + evt.dataTransfer.getData('folderUuid');\n          }\n        }\n      } catch(e) {\n        if (e.name == \"MoveError\") {\n          console.warn(e.message);\n        } else throw e;\n      }\n    },\n    // Toggle whether the current folder is collapsed or not.\n    toggleCollapse() {\n      this.folder.collapsed = !this.folder.collapsed && this.folder.parent != null; // eslint-disable-line vue/no-mutating-props\n    }\n  }\n}\n</script>\n","import { render } from \"./Folder.vue?vue&type=template&id=0ced3e18\"\nimport script from \"./Folder.vue?vue&type=script&lang=js\"\nexport * from \"./Folder.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Explorer.vue?vue&type=template&id=43e905c8\"\nimport script from \"./Explorer.vue?vue&type=script&lang=js\"\nexport * from \"./Explorer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"p-4\">\n    <h1 class=\"mt-0\"> What's this?</h1>\n    <p>A GUI to back up, organize, and edit items crafted in BC in a convenient way.</p>\n    <h1>Where's my data stored?</h1>\n    <p>In your browser's local storage. This means you should make regular backups (see Settings page).</p>\n    <h1>How do I import crafts from BC?</h1>\n    <p>There are currently two ways:</p>\n    <h2><img src=\"@/assets/img/load.svg\" class=\"icon\"/> Importing a single craft (via FBC):</h2>\n    <ol>\n      <li>Open your crafted item in BC</li>\n      <li>Click the FBC \"Export\" button</li>\n      <li>Return here and click \"Load from clipboard\"</li>\n    </ol>\n    <h2><img src=\"@/assets/img/load.svg\" class=\"icon\"/> Importing all your crafts at once (via console):</h2>\n    <ol>\n      <li>Open the browser console on BC</li>\n      <li>Copy the output of <code>JSON.stringify(Player.Crafting)</code></li>\n      <li>Return here and click \"Load from clipboard\"</li>\n    </ol>\n    <h1>How do I export crafts back to BC?</h1>\n    <p>There are currently two ways:</p>\n    <h2><img src=\"@/assets/img/save.svg\" class=\"icon\"/> Exporting a single craft (via FBC)</h2>\n    <ol>\n      <li>Select the craft and click \"Export to clipboard\" </li>\n      <li>Go to BC and open a new craft</li>\n      <li>Click the FBC \"Import\" button</li>\n    </ol>\n    <h2><img src=\"@/assets/img/save.svg\" class=\"icon\"/> Exporting many crafts at once (via console)</h2>\n    <img src=\"@/assets/img/warn.svg\" class=\"icon ml-4 mr-1\"/>\n    <span style=\"color: #d1b758; font-size: 90%;\">This replaces <u>all</u> your BC crafts.</span>\n    <ol>\n      <li>Select a folder to export and click \"Export to clipboard\", or select multiple crafts/folders together and click \"Export\"</li>\n      <li>Open the browser console on BC</li>\n      <li>Paste the clipboard contents</li>\n    </ol>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'About'\n}\n</script>\n","import { render } from \"./About.vue?vue&type=template&id=6b4aea87\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"p-4\">\n    <h1 class=\"mt-0\">Settings</h1>\n    <label>\n      <input type=\"checkbox\" v-model=\"database.settings.confirmCraftDeletion\" @change=\"database.saveToLocalStorage()\"/> Confirm before deleting crafts\n    </label>\n\n    <h1>Backup</h1>\n    <p>Export your BCCM data as JSON. This will allow you to restore your data even if you clear your browser's storage.</p>\n    <button class=\"btn btn-primary\" @click=\"downloadBackup\"><img src=\"@/assets/img/save.svg\"/> Save to file</button>\n    <button class=\"btn btn-primary\" @click=\"backupToClipboard\"><img src=\"@/assets/img/clip-write.svg\"/> Copy to clipboard</button>\n\n    <h1>Restore</h1>\n    <p>Restore a BCCM JSON backup. This will replace all current data.</p>\n    <button class=\"btn btn-primary\" @click=$refs.uploader.click()><img src=\"@/assets/img/load.svg\"/>Load from file</button>\n    <input ref=\"uploader\" type=\"file\" @change=\"handleFileSelect\" accept=\".json\" style=\"display:none\"/>\n    <button class=\"btn btn-primary\" @click=\"restoreFromClipboard\"><img src=\"@/assets/img/clip-read.svg\"/> Load from clipboard</button>\n\n    <h1>Export</h1>\n    <p>Generate a CSV export you can open as a human-friendly spreadsheet.</p>\n    <button class=\"btn btn-primary\" @click=\"downloadCsvExport\"><img src=\"@/assets/img/save.svg\"/> Save to file</button>\n    <button class=\"btn btn-primary\" @click=\"copyCsvExportToClipboard\"><img src=\"@/assets/img/clip-write.svg\"/> Copy to clipboard</button>\n\n    <h1>Reset</h1>\n    <p>Delete all crafts and user data.</p>\n    <button class=\"btn btn-danger\" @click=\"resetDatabase\"><img src=\"@/assets/img/trash.svg\"/>Delete database</button>\n  </div>\n</template>\n<script>\nimport stores from \"@/stores/stores.js\";\nimport { readClipboard, downloadAsTextFile, readFile, matrixToCsv } from \"@/util/util.js\";\n\nexport default {\n  name: 'Settings',\n  computed: {\n    ...stores\n  },\n  methods: {\n    // Copy a BCCM JSON backup to the clipboard.\n    backupToClipboard() {\n      navigator.clipboard.writeText(this.database.serialize());\n      this.alertStore.alert(\"Copied to clipboard.\", \"success\");\n    },\n    // Download a BCCM JSON backup as a file.\n    downloadBackup() {\n      downloadAsTextFile(this.database.serialize(), `BCCMBackup-${new Date().toISOString().split(\"T\")[0]}.json`);\n    },\n    // Restore a BCCM JSON backup from the clipboard.\n    restoreFromClipboard() {\n      readClipboard().then(this.importDatabase);\n    },\n    // Restore a BCCM JSON backup from a file.\n    handleFileSelect(evt) {\n      readFile(evt.target.files[0]).then(lines => this.importDatabase(lines.join('')));\n    },\n    // Restore a BCCM JSON backup from a serialized string.\n    importDatabase(string) {\n      try {\n        this.database.deserialize(string);\n        this.database.saveToLocalStorage();\n        this.$emit(\"goTo\", \"home\");\n        this.alertStore.alert(`Loaded database with ${this.database.findCraftCount()} crafts.`, \"success\");\n      } catch(e) {\n        this.alertStore.alert(e.message);\n      }\n    },\n    // Export the database as CSV and copy it to the clipboard.\n    copyCsvExportToClipboard() {\n      navigator.clipboard.writeText(this.getDatabaseCsv());\n    },\n    // Export the database as CSV and download it as a file.\n    downloadCsvExport() {\n      downloadAsTextFile(this.getDatabaseCsv(), `crafts-${new Date().toISOString().split(\"T\")[0]}.csv`);\n    },\n    // Convert the database to CSV.\n    getDatabaseCsv() {\n      return matrixToCsv([\n        [\"Name\", \"Item\", \"Private\", \"Property\", \"Lock\", \"Type\", \"Color\", \"Description\", \"Folder\", \"Export\"]\n      ].concat(this.database.rootFolder.findAllCrafts().map(it => [\n        it.name,\n        it.item,\n        it.private,\n        it.property,\n        it.lock,\n        it.type || \"\",\n        it.color,\n        it.description,\n        it.parent.getAncestry().slice(1).map(f => f.name).join(\".\"),\n        it.toCompressedBCJson()\n      ])));\n    },\n    // Reset the database to the default state, losing all user data and settings.\n    resetDatabase() {\n      if (confirm(\"Are you sure you want to delete all your data?\")) {\n        this.database.reset();\n        this.explorerStore.selectedEntity = null;\n        this.$emit(\"goTo\", \"home\");\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./Settings.vue?vue&type=template&id=15cde012\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<!-- This component displays alerts to the user. -->\n<template>\n  <div :class=\"`footer-alert ${type}`\">\n    {{ message }}\n  </div>\n</template>\n<style>\n  .footer-alert {\n    position: fixed;\n    width: 100%;\n    bottom: -24px;\n    left: 0;\n    min-height: 24px;\n    padding: 5px;\n    z-index: 100;\n    text-align: center;\n    background-color: rgba(93, 93, 93, 0.77);\n    border-top: 2px solid rgba(142, 142, 142, 0.67);\n    transition: bottom 0.65s;\n    transition-property: bottom, background-color, border-color;\n  }\n  .footer-alert.success {\n    bottom: 0;\n    background-color: rgba(56, 86, 25, 0.77);\n    border-color: rgba(111, 152, 50, 0.67);\n  }\n  .footer-alert.error {\n    bottom: 0;\n    background-color: rgba(115, 38, 38, 0.77);\n    border-color: rgba(179, 66, 66, 0.67);\n  }\n</style>\n<script>\nimport { mapStores } from 'pinia';\nimport { useAlertStore } from \"@/stores/alert.js\";\n\nexport default {\n  name: 'Alert',\n  computed: {\n    message() {\n      return this.alertStore.message;\n    },\n    type() {\n      return this.alertStore.type;\n    },\n    ...mapStores(useAlertStore)\n  }\n}\n</script>\n","import { render } from \"./Alert.vue?vue&type=template&id=933c2e2e\"\nimport script from \"./Alert.vue?vue&type=script&lang=js\"\nexport * from \"./Alert.vue?vue&type=script&lang=js\"\n\nimport \"./Alert.vue?vue&type=style&index=0&id=933c2e2e&lang=css\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=2c0deee4\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/bccm/bccm/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\n\nconst pinia = createPinia()\nconst app = createApp(App)\nwindow.app = app\n\napp.use(pinia)\napp.mount('#app')\n","var map = {\n\t\"./about.svg\": 833,\n\t\"./arrow-down.svg\": 8688,\n\t\"./arrow-ne.svg\": 8894,\n\t\"./arrow-up.svg\": 5362,\n\t\"./checkbox.svg\": 8231,\n\t\"./clip-read.svg\": 2449,\n\t\"./clip-write.svg\": 6240,\n\t\"./cog.svg\": 9847,\n\t\"./craft.svg\": 7100,\n\t\"./cross.svg\": 5166,\n\t\"./drag.svg\": 4652,\n\t\"./folder.svg\": 3735,\n\t\"./github.svg\": 2905,\n\t\"./load.svg\": 8076,\n\t\"./lock.svg\": 4485,\n\t\"./logo.svg\": 5522,\n\t\"./minus.svg\": 275,\n\t\"./plus.svg\": 4355,\n\t\"./private.svg\": 3254,\n\t\"./public.svg\": 3210,\n\t\"./save.svg\": 121,\n\t\"./star.svg\": 6338,\n\t\"./trash.svg\": 5588,\n\t\"./visibility.svg\": 2165,\n\t\"./warn.svg\": 8167\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 8278;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/bccm/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbccm\"] = self[\"webpackChunkbccm\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4364); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","src","_imports_0","id","alt","_hoisted_3","_hoisted_4","_imports_1","_imports_2","_imports_3","href","title","target","_imports_4","_hoisted_1","_hoisted_2","onClick","_ctx","_hoisted_6","_hoisted_7","_createElementBlock","type","onInput","$options","placeholder","style","_hoisted_8","_hoisted_9","_hoisted_10","_createVNode","_component_Alert","_createBlock","_component_Explorer","key","_component_About","_component_Settings","onGoTo","generateUuid","replace","c","crypto","getRandomValues","Uint8Array","toString","readClipboard","Promise","resolve","navigator","clipboard","readText","then","text","prompt","downloadAsTextFile","filename","blob","Blob","elem","window","document","createElement","URL","createObjectURL","download","body","appendChild","click","removeChild","readFile","file","fr","FileReader","onload","result","split","readAsText","matrixToCsv","matrix","map","row","String","v","replaceAll","join","swap","array","idx1","idx2","tmp","debounce","func","timeout","timer","args","clearTimeout","setTimeout","apply","this","pluralize","word","count","pluralWord","renameObjectsToMakeThemUnique","attribute","i","item","newName","parseInt","includes","findIndex","e","parts","match","useAlertStore","defineStore","state","message","dismissalTimeout","actions","alert","duration","console","error","assert","condition","ValidationError","assertType","hash","required","undefined","log","Error","constructor","super","name","Craft","static","json","parent","craft","uuid","property","lock","description","color","private","priority","toJson","validate","length","NAME_MAX_LENGTH","DESCR_MAX_LENGTH","move","direction","idx","crafts","indexOf","warn","matchesQuery","query","toLowerCase","base64String","BCEncoder","convertCompressedBCJsonToCraft","bcJson","convertBCJsonToCraft","toBCJson","convertCraftToBCJson","toCompressedBCJson","convertCraftToCompressedBCJson","Item","Property","Lock","Name","Description","Color","Private","Type","OverridePriority","LZString","JSON","stringify","parse","dataString","convertCraftsToBCDataString","maxCraftsExportable","ExportLimitError","str","substring","stringToImport","ImportError","trim","substr","Array","isArray","convertAnyJSONToCrafts","flat","filter","codes","s","fromCompressedBCJson","version","Database","deserialize","rootFolder","findAllCrafts","nameOfAutodetectedFormat","Folder","subfolders","collapsed","concat","sf","findCraft","craftFound","find","subfolder","findFolder","reduce","found","it","isEmpty","isWithin","folder","getAncestry","f","sfjson","fromJson","items","itjson","toBCImportCommand","convertCraftsToBCImportCommand","some","Settings","loadJson","DEFAULT_SETTINGS","settings","defaultSettings","settingName","KEYS","forEach","confirmCraftDeletion","Object","keys","saveToLocalStorageWithDebounce","saveToLocalStorage","localStorage","database","failed","reset","addCrafts","newCrafts","stats","new","edited","allCrafts","existingCraft","assign","push","total","removeCraft","moveCraft","targetFolder","sourceFolder","moveFolder","movingFolder","newParent","MoveError","oldParent","addFolder","newFolder","removeFolder","importCrafts","convertStringToCrafts","serialize","DeserializationError","findCraftCount","findRepeatedCraftName","arr","useExplorerStore","selectedEntity","multiselectionEntities","repeatedCraftName","getters","multiselectionCrafts","uniqueCrafts","Set","entity","isFolder","add","toggleMultiselectionOf","mapState","mapStores","onKeydown","invalid","explorerStore","_hoisted_5","_component_Folder","depth","_Fragment","_component_FolderDetails","_component_CraftDetails","_imports_5","_imports_6","_imports_7","_imports_8","_imports_9","maxlength","onChange","disabled","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","computed","nameMaxLength","descrMaxLength","stores","methods","handleNameInput","deleteCraft","confirm","indexOfCraft","indexToSelectNext","copyCompressedBCJson","writeText","copyBCJson","overwriteCraftWithClipboard","sourceCraft","targetCraft","alertStore","created","__exports__","ref","_hoisted_23","_hoisted_28","totalCrafts","$refs","txtName","focus","deleteFolder","craftCount","copyImportCommand","toggleVisibilityOfAllCrafts","firstCraftIsPrivate","onDrop","$event","onDragover","onDragenter","active","$props","marginLeft","draggable","onDragstart","checked","require","props","Number","effectiveCollapsed","startDrag","evt","stopPropagation","dataTransfer","dropEffect","effectAllowed","setData","drop","getData","toggleCollapse","components","CraftDetails","FolderDetails","tooManyMultiselected","handleCraftClick","copyMultiselection","uploader","accept","backupToClipboard","downloadBackup","Date","toISOString","restoreFromClipboard","importDatabase","handleFileSelect","files","lines","string","$emit","copyCsvExportToClipboard","getDatabaseCsv","downloadCsvExport","slice","resetDatabase","Alert","Explorer","About","data","page","queryField","goTo","loadFromClipboard","updateQuery","render","pinia","createPinia","app","createApp","App","use","mount","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","module","exports","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","m","deferred","O","chunkIds","fn","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}